# Linux基本指令

上节课中我们介绍了Linux的历史背景，并简要说明了我们搭建Linux的方式——云服务器，认识了Linux最本质的特征——开源。以及介绍了我们操控云服务器的方式：`XShell` ，下面我们将开始Linux基本指令的学习。

注：下面使用的操作系统是`CentOS 7.9 64位`。

## 什么是操作系统

我们知道，计算机系统一般可以分为四个大类：

![image-20240915134635721](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151346945.png)

在其中，真正满足用户需求的是应用软件，下面的三层都是为了给应用软件提供一个良好的工作环境。操作系统负责管理计算机的各类软硬件资源，并为应用软件提供所需要的服务；设备驱动是操作系统与硬件沟通的桥梁，负责控制具体的某类硬件；硬件为上三层提供最基本的物理条件，并给出计算机与外界物理环境的交互方式。

## 开始

ls最基本的功能就是展示当前路径下的文件和文件夹。不过由于我这里什么都没有，所以什么都没有写。

![image-20240915142100079](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151421136.png)

那我这里到底是什么路径下呢？这就需要pwd指令，它用于查看当前路径

![image-20240915142230732](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151422783.png)

我们使用mkdir在当前路径下创建一个文件夹。

![image-20240915142451659](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151424717.png)

使用ls指令再次查看，发现文件夹已经创建成功。

文件夹创建好了，接下来就是进入了，这要是用cd指令，意为切换路径。

![image-20240915143128482](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151431531.png)

现在我们在这个文件夹下使用touch建立一个笔记本文件，然后再建立几个文件夹。

![image-20240915145141985](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151451037.png)

指令可以携带选项，用于实现更多子功能。比如使用ls -l展示文件详细信息。

![image-20240915145448437](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151454489.png)

total用于描述下面的信息有多少列，不重要，略过。文件夹使用蓝色字体强调。名字前面的那些就是对应的属性信息。

ls -l可简写成ll，选项可以多个选中

![image-20240915152853491](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151528540.png)

![image-20240915153107323](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151531358.png)

前面以d开头的，意思这是一个目录或者文件夹，以-开头的，意思就是这是一个普通文件。开头那两个以点为开头的路径，或者说文件夹" . " 和 " .. "是个什么东西？在Linux中，以.为开头的文件是隐藏文件，平常不可见，a是all的意思，所以用了-a 选项之后，就显示出来了。

之前我们也没有创建这两个以" . "为开头的文件夹，难道，每创立一个新的文件夹，里面都会自动创建" . "和" .. "路径吗？进入o1里看一看。

![image-20240915154910399](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151549442.png)

看来我们刚刚猜的好像没错。那这两个路径到底是往哪里指的？进去试一试，每进去一次，就定位一下，方便我们对照。

![image-20240915155359007](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151553044.png)

我们看到，每次进入" .. "路径后，所处的路径似乎都往上移了一级，而且移到这个" \ " 的路径后，好像就移不上去了。所以" .. "实际上是当前路径的上一级路径，方便你从某个目录里退出来的。

那只有一个点的路径是什么呢？其实，它就是这个文件夹的路径，这有什么用呢？这实际是方便你对文件夹中的文件进行指代的，比如之后我们用源代码编译产生可执行程序之后，想要执行这个程序，那就直接输入" ./name.out"回个车就行了，就会执行了。Linux中的可执行程序是以" .out "为后缀的，

ls还有许多选项，比如,ls -d 。进入某个文件夹后，使用ls查看这个文件夹下的文件夹时，我们发现，它显示的是这个子文件夹下的文件，如果我们只想看这个子文件夹本身，就用这个选项。

![image-20240915162147056](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151621102.png)

![image-20240915162318098](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151623136.png)

除此之外，还有一个F选项，它可以让文件以字符的形式展示自己的类型，比如，" \ "代表是路径或者说文件夹，" * "代表普通的可执行程序，普通文件就不带后缀，其它一些后缀现在用不上，就不说了。

![image-20240915163129563](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151631621.png)

除此之外，ls还有一些选项，但现在还用不上，就不说了。

![image-20240915163326615](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151633747.png)

-------

刚刚我们尝试" .. "的路径时，发现它到" / "就跑不上去了，这就牵扯到Linux的文件系统了。跑不上去意味着这就是Linux的根节点。我们看一下这个目录的信息。

![image-20240915164136645](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151641706.png)

之前我们学习树的时候，就提到了Linux的文件树：

![image-20240915164312135](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151643269.png)

刚刚我们cd后面的路径有些是相对路径，什么叫相对路径呢？就是与当前路径相对的路径，比如我们想进入当前文件夹下一个叫" one "的文件夹，那我可以cd后面直接接one（当然，要留空格的），相对路径与我当前所处的路径相关联，就像物理里把自己当成参考系；除此之外，还有一种绝对路径，绝对路径是以根节点为参考系的，不管我当前在哪里，这种路径都是准确的，比如，我们现在先进根节点下的home文件夹，然后用绝对路径进入o1那个文件夹。

![image-20240915165542959](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151655995.png)

日常我们用什么路径呢？一般是相对路径，因为有的路径太长了，不太好记住。当然如果你某个路径用多了，都把路径记得很牢，那就一步到位。总之，哪个路径好用就用哪个。

--------

接下来我们使用" whoami "看看我们当前登录的账号是谁。

![image-20240915171621892](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151716931.png)

是root，也就是超级用户，负责管理整个操作系统的。这也是我们之前刚登陆的时候在root这个文件夹下的原因。现在我们创建一个新的普通账号。

![image-20240915173146537](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151731594.png)

adduser wind：添加一个叫"wind"的账号（用户）；

password wind：为wind设置登录密码；

为了安全，Linux的密码并不显示，连星号都没有，输入后直接回车就行，这里我第一次输错了。

现在登录到这个账户

![image-20240915174228266](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151742381.png)

我们知道，安卓手机上划一下就可以回到主页，或者说桌面，其实安卓就是由Linux系统改出来的，那Linux怎么回到桌面，或者是home，那就用cd ~这个指令；除此之外，还有cd -，这个指令可以回到上一级历史路径，让我们来试一试：为了有足够权限，我先换回root账号

![image-20240915190302803](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151903859.png)

![image-20240915190622509](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151906573.png)

-----

touch指令本意为触摸，它也有很多选项，不过最常用的是创建一个文件，注意，只能创建文件，不能创建文件夹或者说路径，文件夹要用mkdir；其它的选项现在还用不上。

![image-20240915191654442](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151916488.png)

------

上面我们使用mkdir建立了叶节点，但有时候，我们要建立一个路径，或者说一棵子树，（当然一个节点也算树，这里说的是多个节点的树），就可以给mkdir 带上-p选项

![image-20240915192722471](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151927508.png)

指令tree可以展示目录的树结构，我这里没有装，需要先装一下

![image-20240915193519231](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409151935299.png)

------

文件和路径的创建都说完了，接下来就要说怎么删了。

文件和路径的删除有两个相关指令：rmdir和rm。rmdir和mkdir相对，只能删除叶节点的文件夹，一个子树，或者说普通文件它都删不了；我们平常使用的删除指令一般是rm，在不加选项时，rm既可以删除普通文件，也可以删除空文件夹，有时，特别是对于root用户来说，删除时它会让你确认一下，这时你输入" y "，它就删除了；如果加上选项" -r "，则表示递归式删除，此时就可以删除一棵子树了（子树是递归结构，文件夹里还有文件夹），如果你不想一个一个地确认删除，可以再添加选项" f "，这个选项的意思是本指令不要进行确认。 



![image-20240915200438453](https://md-wind.oss-cn-nanjing.aliyuncs.com/md/202409152004585.png)

Linux的文件恢复非常麻烦，在Linux的初期学习阶段中，删东西一定要谨慎，代码写完了一定要及时提交到码云上，不过如果操作系统里有些东西不能泄露出来，紧急情况下直接rm -rf /直接把整个文件树删完也是不错的选择。



# 完